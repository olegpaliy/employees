(this.webpackJsonpemployees=this.webpackJsonpemployees||[]).push([[0],{16:function(e,t,n){},33:function(e,t,n){},34:function(e,t,n){},35:function(e,t,n){},36:function(e,t,n){},37:function(e,t,n){},38:function(e,t,n){},39:function(e,t,n){},40:function(e,t,n){"use strict";n.r(t);var r=n(1),c=n(17),a=n.n(c),s=n(11),i=(n(16),n(3)),o=n(9),u=n(2),l=n(5),f=function(){var e=Object(l.a)(Object(u.a)().mark((function e(t){return Object(u.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://test3-c32d2-default-rtdb.europe-west1.firebasedatabase.app/persons/".concat(t,".json")).then((function(e){return e.json()})).catch((function(e){return console.error(e)}));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),p=n(0),b=function(){var e=Object(r.useState)({}),t=Object(o.a)(e,2),n=t[0],c=t[1],a=Object(i.f)().id;return Object(r.useEffect)((function(){f(a).then((function(e){return c(e)}))}),[a]),Object(p.jsx)("article",{children:Object(p.jsxs)("h2",{children:[n.name," ",n.salary]})})},j=(n(33),function(e){return Object(p.jsxs)("div",{className:"app-info",children:[Object(p.jsx)("h1",{children:"\u0421\u043f\u0456\u0432\u0440\u043e\u0431\u0456\u0442\u043d\u0438\u043a\u0438 Arabesky Romanicus"}),Object(p.jsxs)("h2",{children:["\u0417\u0430\u0433\u0430\u043b\u044c\u043d\u0430 \u043a\u0456\u043b\u044c\u043a\u0456\u0441\u0442\u044c \u0441\u043f\u0456\u0432\u0440\u043e\u0431\u0456\u0442\u043d\u0438\u043a\u0456\u0432: ",e.count]}),Object(p.jsx)("h2",{children:"\u041f\u0440\u0435\u043c\u0456\u044e \u043e\u0442\u0440\u0438\u043c\u0430\u044e\u0442\u044c: ".concat(e.names)})]})}),d=(n(34),function(e){return Object(p.jsx)("input",{onChange:e.filterChange,type:"text",className:"form-control search-input",placeholder:"\u0417\u043d\u0430\u0439\u0442\u0438 \u0441\u043f\u0456\u0432\u0440\u043e\u0431\u0456\u0442\u043d\u0438\u043a\u0430"})}),h=(n(35),function(e){var t="btn btn-light",n="btn btn-outline-light",r=function(t){e.setActiveFilter(t)};return Object(p.jsxs)("div",{className:"btn-group",children:[Object(p.jsx)("button",{onClick:function(){e.allPersons(),r("all_people")},type:"button",className:"all_people"===e.activeFilter?t:n,children:"\u0412\u0441\u0456 \u0441\u043f\u0456\u0432\u0440\u043e\u0431\u0456\u0442\u043d\u0438\u043a\u0438"}),Object(p.jsx)("button",{onClick:function(){e.increasePersons(),r("increase_people")},type:"button",className:"increase_people"===e.activeFilter?t:n,children:"\u041d\u0430 \u043f\u0456\u0434\u0432\u0438\u0449\u0435\u043d\u043d\u044f"}),Object(p.jsx)("button",{onClick:function(){e.richPersons(),r("rich_people")},type:"button",className:"rich_people"===e.activeFilter?t:n,children:"\u0417/\u041f \u0431\u0456\u043b\u044c\u0448\u0435 1000$"})]})}),O=(n(36),function(e){var t=e.person,n=(t=void 0===t?{}:t).name,r=t.salary,c=t.id,a=t.increase,i=e.onDelete,o=e.increaseHandler,u="list-group-item d-flex justify-content-between";return Object(p.jsxs)("li",{className:"".concat(e.hasIncrease?u+" increase":u),children:[Object(p.jsx)(s.b,{className:"links",to:"/person-detail/".concat(c)}),Object(p.jsx)("span",{className:"list-group-item-label",children:n}),Object(p.jsx)("input",{type:"text",className:"list-group-item-input",defaultValue:r+"$"}),Object(p.jsxs)("div",{className:"d-flex justify-content-center align-items-center",children:[Object(p.jsx)("button",{onClick:function(){return o(c,!a)},type:"button",className:"btn-cookie btn-sm ",children:Object(p.jsx)("i",{className:"fas fa-cookie"})}),Object(p.jsx)("button",{onClick:i,type:"button",className:"btn-trash btn-sm ",children:Object(p.jsx)("i",{className:"fas fa-trash"})}),Object(p.jsx)("i",{className:"fas fa-star"})]})]})}),m=(n(37),function(e){return Object(p.jsx)("ul",{className:"app-list list-group",children:e.personsInfo.map((function(t){return Object(p.jsx)(O,{hasIncrease:t.increase,increaseHandler:e.increaseHandler,person:t,onDelete:function(){return e.onDeletePerson(t.id)}},t.id)}))})}),x=(n(38),function(e){var t=Object(r.useState)(""),n=Object(o.a)(t,2),c=n[0],a=n[1],s=Object(r.useState)(""),i=Object(o.a)(s,2),u=i[0],l=i[1];return Object(p.jsxs)("div",{className:"app-add-form",children:[Object(p.jsx)("h3",{children:"\u0414\u043e\u0434\u0430\u0439\u0442\u0435 \u043d\u043e\u0432\u043e\u0433\u043e \u0441\u043f\u0456\u0432\u0440\u043e\u0431\u0456\u0442\u043d\u0438\u043a\u0430"}),Object(p.jsxs)("form",{onSubmit:function(t){if(t.preventDefault(),0===c.trim().length||u<0)return alert("write a valid name or salary!"),a(""),void l("");var n={name:c,salary:u};e.onAddPerson(n),a(""),l("")},className:"add-form d-flex",children:[Object(p.jsx)("input",{value:c,onChange:function(e){a(e.target.value)},type:"text",className:"form-control new-post-label",placeholder:"\u044f\u043a \u0439\u043e\u0433\u043e \u0437\u0432\u0443\u0442\u044c?"}),Object(p.jsx)("input",{onChange:function(e){l(e.target.value)},value:u,type:"number",className:"form-control new-post-label",placeholder:"\u0417/\u041f \u0432 $?"}),Object(p.jsx)("button",{type:"submit",className:"btn btn-outline-light",children:"\u0414\u043e\u0434\u0430\u0442\u0438"})]})]})}),v=function(){var e=Object(l.a)(Object(u.a)().mark((function e(){return Object(u.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",fetch("https://test3-c32d2-default-rtdb.europe-west1.firebasedatabase.app/persons.json").then((function(e){return e.json()})).catch((function(e){return console.error(e)})));case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),y=function(){var e=Object(l.a)(Object(u.a)().mark((function e(t){return Object(u.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://test3-c32d2-default-rtdb.europe-west1.firebasedatabase.app/persons.json",{method:"POST",body:JSON.stringify(t),headers:{"Content-Type":"application/json"}});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),w=function(){var e=Object(l.a)(Object(u.a)().mark((function e(t){return Object(u.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://test3-c32d2-default-rtdb.europe-west1.firebasedatabase.app/persons/".concat(t,".json"),{method:"DELETE",headers:{"Content-Type":"application/json"}});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),N=function(){var e=Object(l.a)(Object(u.a)().mark((function e(t,n){return Object(u.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://test3-c32d2-default-rtdb.europe-west1.firebasedatabase.app/persons/".concat(t,".json"),{method:"PATCH",headers:{"Content-Type":"application/json"},body:JSON.stringify(n)});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}();var P=function(){var e=function(){var e=Object(r.useState)([]),t=Object(o.a)(e,2),n=t[0],c=t[1],a=Object(r.useState)("all_people"),s=Object(o.a)(a,2),i=s[0],f=s[1],p=Object(r.useState)([]),b=Object(o.a)(p,2),j=b[0],d=b[1],h=n.filter((function(e){return e.increase})).map((function(e){return e.name})).join(", "),O=Object(r.useCallback)((function(){v().then((function(e){c(function(e){var t=[];for(var n in e)t.push({id:n,name:e[n].name,salary:e[n].salary,increase:e[n].increase});return t}(e))}))}),[]);Object(r.useEffect)((function(){O()}),[O]),Object(r.useEffect)((function(){d(n)}),[n]);var m=function(){var e=Object(l.a)(Object(u.a)().mark((function e(t){return Object(u.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:y(t).then((function(){O()}));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),x=function(){var e=Object(l.a)(Object(u.a)().mark((function e(t){return Object(u.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:w(t).then((function(){O()}));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),P=function(){var e=Object(l.a)(Object(u.a)().mark((function e(t,n){return Object(u.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:N(t,{increase:n}).then((function(){O()}));case 1:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}();return{fetchedPeople:n,addFirebasePersonHandler:m,activeFilter:i,setActiveFilter:f,filteredList:j,setFilteredList:d,increaseHandler:P,deletePersonHandler:x,filterPersonsHandler:function(e){var t=e.target.value;if(t){var r=n.filter((function(e){return e.name.toLocaleLowerCase().includes(t.toLocaleLowerCase())}));d(r)}else d(n)},increasePersons:function(){d(n.filter((function(e){return e.increase})))},allPersons:function(){d(n)},richPersons:function(){d(n.filter((function(e){return e.salary>1e3})))},names:h}}(),t=e.fetchedPeople,n=e.addFirebasePersonHandler,c=e.activeFilter,a=e.setActiveFilter,s=e.filteredList,i=e.personsWithIncrease,f=e.increaseHandler,b=e.deletePersonHandler,O=e.filterPersonsHandler,P=e.increasePersons,g=e.allPersons,k=e.richPersons,C=e.names;return Object(p.jsxs)("div",{className:"app",children:[Object(p.jsx)(j,{names:C,count:t.length}),Object(p.jsxs)("div",{className:"search-panel",children:[Object(p.jsx)(d,{filterChange:O}),Object(p.jsx)(h,{richPersons:k,allPersons:g,activeFilter:c,setActiveFilter:a,increasePersons:P})]}),Object(p.jsx)(m,{personsWithIncrease:i,increaseHandler:f,personsInfo:s,onDeletePerson:b}),Object(p.jsx)(x,{onAddPerson:n})]})};var g=function(){return Object(p.jsxs)(i.c,{children:[Object(p.jsx)(i.a,{path:"/",children:Object(p.jsx)(P,{})}),Object(p.jsx)(i.a,{path:"/person-detail/:id",children:Object(p.jsx)(b,{})})]})};n(39);a.a.render(Object(p.jsx)(s.a,{children:Object(p.jsx)(g,{})}),document.getElementById("root"))}},[[40,1,2]]]);
//# sourceMappingURL=main.54278c02.chunk.js.map